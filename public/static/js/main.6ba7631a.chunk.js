(this["webpackJsonpreact-rails-api-project-template-client"]=this["webpackJsonpreact-rails-api-project-template-client"]||[]).push([[0],{179:function(e,t,n){},197:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n(40),r=n.n(i),s=(n(179),n(10)),a=n(15),o=n(98),j=n(99),u=n.n(j),l=n(284),b=n(17),d=n.p+"static/media/Boop.62d6be66.m4a",O=n(1);var h=function(e){var t=e.type,n=e.job,i=e.post,r=e.questions,j=e.setQuestions,h=new FormData,x=Object(c.useState)(""),f=Object(s.a)(x,2),p=f[0],m=f[1],v=Object(c.useState)(""),g=Object(s.a)(v,2),y=g[0],w=g[1],S=Object(c.useState)(!1),C=Object(s.a)(S,2),k=C[0],F=C[1],I=Object(c.useState)(!1),R=Object(s.a)(I,2),T=R[0],E=R[1],J=new Audio(d),P=Object(c.useRef)(),q=(Object(c.useRef)(),Object(c.useRef)()),N=Object(b.useHistory)();return Object(c.useEffect)((function(){y&&fetch("/api/questions",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({link:y,duration:p,job_id:n.id})}).then((function(e){return e.json()})).then((function(e){"q2"===t&&j([].concat(Object(a.a)(r),[e])),console.log(e)})).then((function(){"q1"===t&&N.push("/create/".concat(n.id))}))}),[i]),Object(O.jsx)("div",{children:Object(O.jsx)(o.ReactMediaRecorder,{video:!0,audio:!0,onStop:function(e,t){h.append("file",t),h.append("upload_preset","test-video"),h.append("cloud_name","abusel"),u()(t).then((function(e){m(e)})),fetch(" https://api.cloudinary.com/v1_1/abusel/video/upload",{method:"post",body:h}).then((function(e){return e.json()})).then((function(e){w(e.url)})).catch((function(e){return console.log(e)}))},render:function(e){var t=e.status,n=e.startRecording,c=e.stopRecording,i=e.mediaBlobUrl,r=e.previewStream;return Object(O.jsxs)("div",{children:["recording"===t&&Object(O.jsx)("h2",{children:" Start talking now!"}),Object(O.jsx)(l.a,{color:"primary",variant:"outlined",onClick:function(){n(),setTimeout((function(){J.play()}),400),setTimeout((function(){q.current.click()}),2500),E(!0)},children:k?"New Attempt":"Start Recording"}),Object(O.jsx)(l.a,{color:"primary",variant:"outlined",onClick:function(){c(),E(!1);var e=P.current.srcObject.getTracks()[0];P.current.srcObject.removeTrack(e),P.current.src=i,F(!0)},children:"Stop Recording"}),Object(O.jsx)(l.a,{color:"primary",variant:"outlined",ref:q,style:{display:"none"},onClick:function(){P.current&&(P.current.srcObject=r)},children:"play"}),Object(O.jsxs)("div",{children:[T&&Object(O.jsx)("video",{ref:P,autoPlay:!0,width:800}),!T&&Object(O.jsx)("video",{src:i||y,controls:!0,autoplay:!0,width:800})]}),Object(O.jsx)("div",{})]})}})})},x=n(25),f=n(293),p=n(295),m=n(272),v=n(285),g=n(303),y=n(286),w=n(299),S=n(294),C=n(301),k=n(91),F=n(300),I=n(144),R=n(291);function T(e){return Object(O.jsxs)(k.a,Object(x.a)(Object(x.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(O.jsx)(w.a,{color:"inherit",href:"https://mui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]}))}var E=Object(I.a)();function J(e){var t=e.setUser,n=Object(c.useState)(!1),i=Object(s.a)(n,2),r=i[0],a=i[1],o=Object(c.useState)(""),j=Object(s.a)(o,2),u=j[0],l=j[1],d=Object(b.useHistory)();return Object(O.jsx)(R.a,{theme:E,children:Object(O.jsxs)(F.a,{component:"main",maxWidth:"xs",children:[Object(O.jsx)(m.a,{}),Object(O.jsxs)(C.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(O.jsx)(f.a,{sx:{m:1,bgcolor:"secondary.main"}}),Object(O.jsx)(k.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(O.jsxs)(C.a,{component:"form",noValidate:!0,onSubmit:function(e){e.preventDefault();var n=new FormData(e.currentTarget),c=JSON.stringify({name:n.get("firstName")+" "+n.get("lastName"),email:n.get("email"),password:u,is_company:r});console.log(c),fetch("/api/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:c}).then((function(e){e.ok?e.json().then((function(e){t(e),d.push("/"),console.log(e)})):e.json().then((function(e){return console.log(e)}))}))},sx:{mt:3},children:[Object(O.jsxs)(S.a,{container:!0,spacing:2,children:[Object(O.jsx)(S.a,{item:!0,xs:12,sm:6,children:Object(O.jsx)(v.a,{autoComplete:"given-name",name:"firstName",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0})}),Object(O.jsx)(S.a,{item:!0,xs:12,sm:6,children:Object(O.jsx)(v.a,{required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"family-name"})}),Object(O.jsx)(S.a,{item:!0,xs:12,children:Object(O.jsx)(v.a,{required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email"})}),Object(O.jsx)(S.a,{item:!0,xs:12,children:Object(O.jsx)(v.a,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:u,onChange:function(e){return l(e.target.value)},autoComplete:"new-password"})}),Object(O.jsx)(S.a,{item:!0,xs:12,children:Object(O.jsx)(g.a,{control:Object(O.jsx)(y.a,{value:"isCompany",id:"isCompany",color:"primary",onChange:function(){return a((function(e){return!e}))}}),label:"I am a company"})})]}),Object(O.jsx)(p.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign Up"}),Object(O.jsx)(S.a,{container:!0,justifyContent:"flex-end",children:Object(O.jsx)(S.a,{item:!0,children:Object(O.jsx)(w.a,{href:"/login",variant:"body2",children:"Already have an account? Sign in"})})})]})]}),Object(O.jsx)(T,{sx:{mt:5}})]})})}function P(e){return Object(O.jsxs)(k.a,Object(x.a)(Object(x.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(O.jsx)(w.a,{color:"inherit",href:"https://mui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]}))}var q=Object(I.a)();function N(e){var t=e.setUser,n=Object(b.useHistory)();return Object(O.jsx)(R.a,{theme:q,children:Object(O.jsxs)(F.a,{component:"main",maxWidth:"xs",children:[Object(O.jsx)(m.a,{}),Object(O.jsxs)(C.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(O.jsx)(f.a,{sx:{m:1,bgcolor:"secondary.main"}}),Object(O.jsx)(k.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(O.jsxs)(C.a,{component:"form",onSubmit:function(e){e.preventDefault();var c=new FormData(e.currentTarget),i=JSON.stringify({email:c.get("email"),password:c.get("password")});fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:i}).then((function(e){e.ok?(e.json().then((function(e){t(e),console.log(e)})),n.push("/")):e.json().then((function(e){return console.log(e)}))}))},noValidate:!0,sx:{mt:1},children:[Object(O.jsx)(v.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),Object(O.jsx)(v.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),Object(O.jsx)(g.a,{control:Object(O.jsx)(y.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(O.jsx)(p.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"}),Object(O.jsxs)(S.a,{container:!0,children:[Object(O.jsx)(S.a,{item:!0,xs:!0,children:Object(O.jsx)(w.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(O.jsx)(S.a,{item:!0,children:Object(O.jsx)(w.a,{href:"/",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]}),Object(O.jsx)(P,{sx:{mt:8,mb:4}})]})})}var _=n(302),D=n(290),A=n(279),W=n(280),H=n(281),B=n(138),Q=n.n(B),U=n(139),V=n.n(U);var L=function(e){var t=e.user,n=e.setJob,i=e.setInterview,r=Object(c.useState)([]),a=Object(s.a)(r,2),o=a[0],j=a[1],u=Object(c.useState)([]),d=Object(s.a)(u,2),h=d[0],x=d[1],f=Object(b.useHistory)();return console.log(o),Object(c.useEffect)((function(){t.is_company&&fetch("/api/jobs").then((function(e){return e.json()})).then((function(e){return j(e)})),fetch("/api/recentinterviews/".concat(t.id)).then((function(e){return e.json()})).then((function(e){return x(e)}))}),[t]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("h2",{children:[" Welcome ",t.name]}),Object(O.jsxs)("div",{style:{display:"flex"},children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("h3",{children:"View Posted Jobs:"}),o[0]&&Object(O.jsx)(C.a,{sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"},children:Object(O.jsx)(_.a,{children:o.filter((function(e){return e.user_id===t.id})).map((function(e){return Object(O.jsx)(D.a,{diablePadding:!0,onClick:function(){n(e),f.push("/".concat(e.id))},children:Object(O.jsxs)(A.a,{children:[Object(O.jsx)(W.a,{children:Object(O.jsx)(Q.a,{})}),Object(O.jsx)(H.a,{primary:e.title,secondary:e.users.length+" Applicants"})]})})}))})})]}),Object(O.jsx)("div",{style:{padding:"5rem"},children:Object(O.jsx)(l.a,{variant:"outlined",onClick:function(){return f.push("/create")},children:"Create a Job"})}),Object(O.jsxs)("div",{children:[h[0]&&Object(O.jsx)("h3",{children:"View Most Recent Interviews:"}),h[0]&&Object(O.jsx)(C.a,{sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"},children:Object(O.jsx)(_.a,{children:h.map((function(e){return Object(O.jsx)(D.a,{diablePadding:!0,onClick:function(){i(e),f.push("/interview/".concat(e.id))},children:Object(O.jsxs)(A.a,{children:[Object(O.jsx)(W.a,{children:Object(O.jsx)(V.a,{})}),Object(O.jsx)(H.a,{primary:e.user.name,secondary:"Interview for "+e.job.title})]})})}))})})]})]})]})},M=n(292),Y=n(314),z=n(288),G=n(273),K=["Name the Job","","Create First Question"];function X(e){var t=e.setJob,n=e.job,i=e.user,r=c.useState(0),a=Object(s.a)(r,2),o=a[0],j=a[1],u=c.useState(new Set),l=Object(s.a)(u,2),d=l[0],f=l[1],m=Object(c.useState)(""),v=Object(s.a)(m,2),g=v[0],y=v[1],w=Object(c.useState)(!1),S=Object(s.a)(w,2),F=S[0],I=S[1];Object(b.useHistory)();Object(c.useEffect)((function(){}),[o]),Object(c.useEffect)((function(){t("f")}),[]);var R=function(e){return 10===e},T=function(e){return d.has(e)};return Object(O.jsxs)(O.Fragment,{children:[0===o&&Object(O.jsxs)("div",{children:[Object(O.jsx)(k.a,{variant:"h5",gutterBottom:!0,component:"div",children:"Please name the job"}),Object(O.jsx)(G.a,{value:g,onChange:function(e){return y(e.target.value)},placeholder:"Job Title"})]}),1===o&&Object(O.jsx)("div",{children:Object(O.jsx)(k.a,{variant:"h6",gutterBottom:!0,component:"div",children:"Use the first question as an opportunity to introduce yourself and prompt the applicant to introduce themselves"})}),o>1&&Object(O.jsx)(h,{type:"q1",job:n,post:F}),Object(O.jsxs)(C.a,{sx:{width:"100%"},children:[Object(O.jsx)(M.a,{activeStep:o,children:K.map((function(e,t){var n={},c={};return R(t)&&(c.optional=Object(O.jsx)(k.a,{variant:"caption",children:"Optional"})),T(t)&&(n.completed=!1),Object(O.jsx)(Y.a,Object(x.a)(Object(x.a)({},n),{},{children:Object(O.jsx)(z.a,Object(x.a)(Object(x.a)({},c),{},{children:e}))}),e)}))}),o===K.length?Object(O.jsxs)(c.Fragment,{children:[Object(O.jsx)(k.a,{sx:{mt:2,mb:1},children:"All steps completed - you're finished"}),Object(O.jsxs)(C.a,{sx:{display:"flex",flexDirection:"row",pt:2},children:[Object(O.jsx)(C.a,{sx:{flex:"1 1 auto"}}),Object(O.jsx)(p.a,{onClick:function(){j(0)},children:"Reset"})]})]}):Object(O.jsxs)(c.Fragment,{children:[Object(O.jsxs)(k.a,{sx:{mt:2,mb:1},children:["Step ",o+1]}),Object(O.jsxs)(C.a,{sx:{display:"flex",flexDirection:"row",pt:2},children:[Object(O.jsx)(p.a,{color:"inherit",disabled:0===o,onClick:function(){j((function(e){return e-1}))},sx:{mr:1},children:"Back"}),Object(O.jsx)(C.a,{sx:{flex:"1 1 auto"}}),R(o)&&Object(O.jsx)(p.a,{color:"inherit",onClick:function(){if(!R(o))throw new Error("You can't skip a step that isn't optional.");j((function(e){return e+1})),f((function(e){var t=new Set(e.values());return t.add(o),t}))},sx:{mr:1},children:"Skip"}),Object(O.jsx)(p.a,{onClick:function(){var e=d;T(o)&&(e=new Set(e.values())).delete(o),j((function(e){return e+1})),f(e),o===K.length-1&&(console.log("finished"),fetch("/api/jobs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:g,allow_multiple_attempts:!1,user_id:i.id})}).then((function(e){return e.json()})).then((function(e){return t(e)})).then((function(){return I((function(e){return!e}))})).then((function(){})))},children:o===K.length-1?"Finish":"Next"})]})]})]})]})}var Z=function(e){var t=e.user,n=e.job,c=e.setJob;return Object(O.jsxs)("div",{children:[Object(O.jsx)("h3",{children:"Create a new job"}),Object(O.jsx)("h4",{children:n.title}),Object(O.jsx)(X,{setJob:c,job:n,user:t})]})},$=n(289),ee=n(304),te=n(305),ne=n(105),ce=n.n(ne),ie=n(283);var re=function(e){var t=e.job,n=e.setJob,i=e.adding,r=e.interview,a=e.setInterview,o=(e.setAdding,Object(b.useParams)()),j=Object(c.useState)(!1),u=Object(s.a)(j,2),l=(u[0],u[1],Object(c.useState)([])),d=Object(s.a)(l,2),f=d[0],m=d[1],g=Object(c.useState)(!1),y=Object(s.a)(g,2),w=y[0],S=y[1],C=Object(c.useState)([]),F=Object(s.a)(C,2),I=F[0],R=F[1],T=Object(c.useState)(1),E=Object(s.a)(T,2),J=(E[0],E[1],Object(c.useState)("")),P=Object(s.a)(J,2),q=(P[0],P[1],Object(b.useHistory)());return Object(c.useEffect)((function(){}),[]),Object(c.useEffect)((function(){var e=o.createdJob?o.createdJob:o.job;fetch("/api/jobs/".concat(e)).then((function(e){return e.json()})).then((function(e){return n(e)}))}),[]),Object(c.useEffect)((function(){!i&&fetch("/api/interviewjob/".concat(t.id)).then((function(e){return e.json()})).then((function(e){return R(e)}))}),[t]),Object(c.useEffect)((function(){fetch("/api/jobs/".concat(t.id)).then((function(e){return e.json()})).then((function(e){return m(e.questions)}))}),[t]),Object(O.jsxs)("div",{children:[t.title,Object(O.jsxs)("div",{children:[Object(O.jsx)("h3",{children:"View Questions:"}),f&&f.map((function(e){return Object(O.jsxs)($.a,{children:[Object(O.jsx)(ee.a,{expandIcon:Object(O.jsx)(ce.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(O.jsxs)(k.a,{children:["Question ",f.indexOf(e)+1]})}),Object(O.jsx)(te.a,{children:Object(O.jsx)(k.a,{children:Object(O.jsx)("div",{children:Object(O.jsx)("video",{src:e.link,controls:!0,autoplay:!0,width:600})})})})]})}))]}),!i&&Object(O.jsx)(p.a,{variant:"outlined",onClick:function(){i=!0,q.push("/create/".concat(t.id))},children:"Add More Questions"}),i?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(h,{type:"q2",questions:f,setQuestions:m,post:w,job:t}),Object(O.jsx)(p.a,{onClick:function(){return S((function(e){return!e}))},children:"Add Question"}),Object(O.jsx)(p.a,{onClick:function(){return q.push("/")},children:" Publish"})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("h3",{children:[" Link: http://localhost:4000/interview/",t.id]}),Object(O.jsxs)("h3",{children:["Interview Code: ",t.id]}),Object(O.jsx)("h5",{children:"View Interviews"}),I[0]&&Object(O.jsxs)("div",{children:[" ",Object(O.jsx)(ie.a,{disableClearable:!0,onChange:function(e,t){a(t)},disablePortal:!0,id:"combo-box-demo",options:I,getOptionLabel:function(e){return e.user.name},sx:{width:300},renderInput:function(e){return Object(O.jsx)(v.a,Object(x.a)(Object(x.a)({},e),{},{label:"Applicant"}))}}),Object(O.jsx)(p.a,{variant:"outlined",onClick:function(){r&&q.push("/interview/".concat(r.id))},children:"View Interview"})]})]})]})};var se=function(e){var t=e.interview,n=e.question,i=e.test,r=e.hide,a=e.setHide,j=new FormData,b=Object(c.useState)(""),h=Object(s.a)(b,2),x=h[0],f=h[1],p=Object(c.useState)(""),m=Object(s.a)(p,2),v=m[0],g=m[1],y=Object(c.useRef)(),w=Object(c.useRef)(),S=Object(c.useRef)(),C=Object(c.useState)(!1),k=Object(s.a)(C,2),F=k[0],I=k[1],R=Object(c.useState)(!1),T=Object(s.a)(R,2),E=T[0],J=T[1],P=new Audio(d);return Object(c.useEffect)((function(){v&&fetch("/api/answers",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({link:v,duration:x,interview_id:t.id})}).then((function(e){return e.json()})).then((function(e){console.log(e)})),console.log(n)}),[F]),Object(c.useEffect)((function(){setTimeout((function(){y.current.click()}),1e3*n.duration+200)}),[i]),Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(o.ReactMediaRecorder,{video:!0,audio:!0,onStop:function(e,t){j.append("file",t),j.append("upload_preset","test-video"),j.append("cloud_name","abusel"),u()(t).then((function(e){f(e)})),fetch(" https://api.cloudinary.com/v1_1/abusel/video/upload",{method:"post",body:j}).then((function(e){return e.json()})).then((function(e){g(e.url)})).then((function(){return I((function(e){return!e}))})).catch((function(e){return console.log(e)}))},render:function(e){var t=e.status,c=e.startRecording,i=e.stopRecording,s=(e.mediaBlobUrl,e.previewStream);return Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{children:t}),"recording"===t&&Object(O.jsx)("h2",{children:" Start talking now!"}),Object(O.jsx)("p",{ref:y,onClick:function(){c(),a(!0),setTimeout((function(){P.play()}),400),setTimeout((function(){S.current.click()}),2500),J(!0)}}),Object(O.jsx)(l.a,{color:"primary",variant:"outlined",ref:S,style:{display:"none"},onClick:function(){w.current.srcObject=s},children:"play"}),Object(O.jsx)(l.a,{color:"primary",variant:"contained",onClick:function(){i(),J(!1)},children:"Stop Recording"}),!r&&Object(O.jsx)("video",{src:n.link,autoPlay:!0}),E&&Object(O.jsx)("video",{ref:w,autoPlay:!0,width:800}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{})]})}})})},ae=n(315),oe=n(318),je=n(316),ue=n(317),le=n(282);var be=function(e){var t=e.open,n=e.setOpen,i=e.startInterview,r=e.questions,a=Object(c.useState)(!1),o=Object(s.a)(a,2),j=o[0],u=o[1],l=function(){n(!1),u(!1)};return Object(O.jsx)("div",{children:Object(O.jsxs)(ae.a,{open:t,onClose:l,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(O.jsx)(le.a,{id:"alert-dialog-title",children:"Interview Rules"}),Object(O.jsxs)(je.a,{children:[Object(O.jsx)(ue.a,{id:"alert-dialog-description",children:"- Make sure your sound is on"}),Object(O.jsx)(ue.a,{id:"alert-dialog-description",children:"- After you start the interview, the first question will play and immediately after you will answer"}),Object(O.jsx)(ue.a,{id:"alert-dialog-description",children:"- There are no retakes on questions or for the interview, DO NOT exit the interview once you have started as you will not be able to retake it"})]}),Object(O.jsxs)(oe.a,{children:[Object(O.jsx)(g.a,{control:Object(O.jsx)(y.a,{onChange:function(){return u((function(e){return!e}))}}),label:"I have read and agree to the rules"}),Object(O.jsx)(p.a,{onClick:function(){j&&i(),j&&r&&l()},autoFocus:!0,children:"Start Interview"})]})]})})};var de=function(e){var t=e.user,n=Object(c.useState)(""),i=Object(s.a)(n,2),r=i[0],a=i[1],o=Object(c.useState)(""),j=Object(s.a)(o,2),u=j[0],d=j[1],h=Object(c.useState)([]),x=Object(s.a)(h,2),f=x[0],p=x[1],m=Object(c.useState)(0),v=Object(s.a)(m,2),g=v[0],y=v[1],w=Object(c.useState)(!1),S=Object(s.a)(w,2),C=S[0],k=S[1],F=Object(c.useState)(0),I=Object(s.a)(F,2),R=I[0],T=I[1],E=Object(c.useState)(!1),J=Object(s.a)(E,2),P=J[0],q=J[1],N=Object(c.useState)(""),_=Object(s.a)(N,2),D=_[0],A=_[1],W=Object(b.useParams)();return Object(c.useEffect)((function(){r&&fetch("/api/jobs/".concat(r)).then((function(e){return e.json()})).then((function(e){A("Interview to be a "+e.title+" for "+e.user.name),p(e.questions)}))}),[R,r]),Object(c.useEffect)((function(){r&&console.log(r)}),[r]),Object(c.useEffect)((function(){return a(W.jobId)}),[r,W.jobId,a]),Object(c.useEffect)((function(){fetch("/api/jobs/".concat(r)).then((function(e){return e.json()})).then((function(e){return p(e.questions)}))}),[r,a]),Object(O.jsxs)("div",{children:[Object(O.jsx)("h3",{children:D}),"job_id: ",r,Object(O.jsx)(l.a,{onClick:function(){return q(!0)},children:"Start Interview"}),u&&f&&function(e){return e<f.length?Object(O.jsx)(se,{interview:u,question:f[e],test:e,hide:C,setHide:k}):Object(O.jsx)("div",{children:"Done!"})}(g),Object(O.jsx)(l.a,{onClick:function(){y((function(e){return e+1})),k(!1)},children:"Next Question"}),Object(O.jsx)(be,{open:P,setOpen:q,startInterview:function(){T((function(e){return e+1})),console.log({jobId:r},f),f&&fetch("/api/interviews",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({job_id:r,user_id:t.id})}).then((function(e){if(e.ok)return e.json()})).then((function(e){return d(e)}))},questions:f})]})};var Oe=function(e){var t=e.interview,n=e.setInterview,i=Object(c.useState)(""),r=Object(s.a)(i,2),o=r[0],j=r[1],u=Object(c.useState)([]),l=Object(s.a)(u,2),d=l[0],h=l[1],x=Object(b.useParams)();return Object(c.useEffect)((function(){fetch("/api/interviews/".concat(x.interviewId)).then((function(e){return e.json()})).then((function(e){return n(e)}))}),[]),Object(c.useEffect)((function(){fetch("/api/jobs/".concat(t.job_id)).then((function(e){return e.json()})).then((function(e){return j(e)}))}),[t]),Object(c.useEffect)((function(){if(h([]),o&&t)for(var e=function(e){h((function(t){return[].concat(Object(a.a)(t),[o.questions[e]])})),h((function(n){return[].concat(Object(a.a)(n),[t.answers[e]])}))},n=0;n<t.answers.length;n++)e(n)}),[o]),Object(O.jsxs)(O.Fragment,{children:[t&&Object(O.jsxs)("h2",{children:[t.user.name," interview for ",o.title]}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{children:d.map((function(e){if(d.indexOf(e)%2===0)return Object(O.jsxs)($.a,{children:[Object(O.jsx)(ee.a,{expandIcon:Object(O.jsx)(ce.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(O.jsxs)(k.a,{children:["Question ",d.indexOf(e)/2+1]})}),Object(O.jsx)(te.a,{children:Object(O.jsx)(k.a,{children:Object(O.jsxs)("div",{children:[Object(O.jsx)("video",{src:e.link,controls:!0,width:600}),Object(O.jsx)("video",{src:d[d.indexOf(e)+1].link,controls:!0,width:600})]})})})]})}))})]})};var he=function(e){var t=e.user,n=Object(c.useState)(""),i=Object(s.a)(n,2),r=i[0],a=i[1],o=Object(b.useHistory)();return Object(O.jsxs)("div",{children:[Object(O.jsxs)("p",{children:["Welcome ",t.name,"!"]}),Object(O.jsx)("p",{children:"Please enter code below to go to an interview! "}),Object(O.jsxs)("div",{children:[Object(O.jsx)(G.a,{placeholder:"Interview Code",value:r,onChange:function(e){return a(e.target.value)}}),Object(O.jsx)(p.a,{onClick:function(){o.push("/interview/".concat(r))},children:"Let's go"})]})]})},xe=n(3),fe=n(308),pe=n(309),me=n(306),ve=n(143),ge=n.n(ve),ye=n(307),we=n(296),Se=n(145),Ce=n(298),ke=n(140),Fe=n.n(ke),Ie=n(108),Re=n(141),Te=n.n(Re),Ee=n(142),Je=n.n(Ee);var Pe=function(e){var t=e.state,n=(e.setState,e.toggleDrawer),i=e.logoutFunc,r=e.user,s=Object(Ie.useHistory)(),a=function(e){return Object(O.jsx)(C.a,{sx:{width:"top"===e||"bottom"===e?"auto":250},role:"presentation",onClick:n(e,!1),onKeyDown:n(e,!1),children:Object(O.jsxs)(_.a,{children:[Object(O.jsxs)(D.a,{button:!0,onClick:i,children:[Object(O.jsx)(W.a,{children:Object(O.jsx)(Fe.a,{})}),Object(O.jsx)(H.a,{primary:"Log Out"})]},"Log Out"),Object(O.jsxs)(D.a,{button:!0,onClick:function(){s.push("/")},children:[Object(O.jsx)(W.a,{children:Object(O.jsx)(Te.a,{})}),Object(O.jsx)(H.a,{primary:"Home"})]},"Home"),!r.is_company&&Object(O.jsxs)(D.a,{button:!0,onClick:function(){s.push("/jobpostings")},children:[Object(O.jsx)(W.a,{children:Object(O.jsx)(Je.a,{})}),Object(O.jsx)(H.a,{primary:"View Job Postings"})]},"Job Postings")]})})};return Object(O.jsx)("div",{children:["left","right","top","bottom"].map((function(e){return Object(O.jsx)(c.Fragment,{children:Object(O.jsx)(Ce.a,{anchor:e,open:t[e],onClose:n(e,!1),children:a(e)})},e)}))})};var qe=function(e){var t=e.logoutFunc,n=e.user,i=Object(Ie.useHistory)(),r=c.useState({top:!1,left:!1,bottom:!1,right:!1}),a=Object(s.a)(r,2),o=a[0],j=a[1],u=function(e,t){return function(n){("keydown"!==n.type||"Tab"!==n.key&&"Shift"!==n.key)&&j(Object(x.a)(Object(x.a)({},o),{},Object(xe.a)({},e,t)))}},l=c.useState(!0),b=Object(s.a)(l,2),d=b[0],h=(b[1],c.useState(null)),f=Object(s.a)(h,2),p=f[0],m=f[1],v=function(){m(null)};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(Pe,{state:o,setState:j,toggleDrawer:u,logoutFunc:t,user:n}),Object(O.jsxs)(C.a,{sx:{flexGrow:1},children:[Object(O.jsx)(ye.a,{}),Object(O.jsx)(fe.a,{position:"static",children:Object(O.jsxs)(pe.a,{children:[Object(O.jsx)(me.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},children:Object(O.jsx)(ge.a,{onClick:u("left",!0)})}),Object(O.jsx)(k.a,{variant:"h6",component:"div",sx:{flexGrow:1,cursor:"pointer"},onClick:function(){i.push("/")},children:"Interview Anywhere"}),d&&Object(O.jsx)("div",{children:Object(O.jsxs)(Se.a,{id:"menu-appbar",anchorEl:p,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(p),onClose:v,children:[Object(O.jsx)(we.a,{onClick:v,children:"Profile"}),Object(O.jsx)(we.a,{onClick:v,children:"My account"})]})})]})})]})]})},Ne=n(310),_e=n(312),De=n(311);var Ae=function(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],i=t[1];return Object(c.useEffect)((function(){fetch("/api/jobs").then((function(e){return e.json()})).then((function(e){return i(e)}))}),[]),Object(O.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gridGap:"2rem",margin:"auto",width:"90%"},children:n[0]&&n.map((function(e){return Object(O.jsx)(Ne.a,{variant:"outlined",style:{margin:"2rem"},children:Object(O.jsxs)(c.Fragment,{children:[Object(O.jsxs)(De.a,{children:[Object(O.jsx)(k.a,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:"Job Posting"}),Object(O.jsx)(k.a,{variant:"h5",component:"div",children:e.title}),Object(O.jsxs)(k.a,{sx:{mb:1.5},color:"text.secondary",children:["For ",e.user.name]}),Object(O.jsxs)(k.a,{variant:"body2",children:["Contact info:",Object(O.jsx)("br",{}),e.user.email]}),Object(O.jsx)(k.a,{variant:"body2",children:new Date(e.created_at).year})]}),Object(O.jsx)(_e.a,{})]})})}))})};function We(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)(""),a=Object(s.a)(r,2),o=a[0],j=a[1],u=Object(c.useState)(""),l=Object(s.a)(u,2),d=l[0],h=l[1],x=Object(c.useState)(""),f=Object(s.a)(x,2),p=f[0],m=f[1],v=Object(b.useHistory)(),g=Object(I.a)({palette:{mode:"dark"}});function y(){fetch("/api/logout",{method:"DELETE"}).then((function(e){return console.log(e)})),j(""),v.push("/")}return Object(c.useEffect)((function(){fetch("/api/videos").then((function(e){return e.json()})).then((function(e){return i(e)})),fetch("/api/me").then((function(e){e.ok&&e.json().then((function(e){return j(e)}))}))}),[]),o?o.is_company?Object(O.jsxs)(b.Switch,{children:[Object(O.jsx)(b.Route,{exact:!0,path:"/",children:Object(O.jsxs)("div",{className:"app",children:[Object(O.jsx)(R.a,{theme:g,children:Object(O.jsx)(qe,{logoutFunc:y,user:o})}),Object(O.jsx)(L,{user:o,setJob:h,setInterview:m})]})}),Object(O.jsxs)(b.Route,{exact:!0,path:"/create",children:[Object(O.jsx)(qe,{logoutFunc:y,user:o}),Object(O.jsx)(Z,{user:o,job:d,setJob:h})]}),Object(O.jsxs)(b.Route,{exact:!0,path:"/create/:createdJob",children:[Object(O.jsx)(qe,{logoutFunc:y,user:o}),Object(O.jsx)(re,{job:d,setJob:h,adding:!0})]}),Object(O.jsxs)(b.Route,{exact:!0,path:"/:job",children:[Object(O.jsx)(qe,{logoutFunc:y,user:o}),Object(O.jsx)(re,{job:d,setJob:h,adding:!1,interview:p,setInterview:m})]}),Object(O.jsxs)(b.Route,{exact:!0,path:"/interview/:interviewId",children:[Object(O.jsx)(qe,{logoutFunc:y,user:o}),Object(O.jsx)(Oe,{user:o,interview:p,setInterview:m})]})]}):o.is_company?void 0:Object(O.jsxs)(b.Switch,{children:[Object(O.jsxs)(b.Route,{exact:!0,path:"/",children:[Object(O.jsx)(R.a,{theme:g,children:Object(O.jsx)(qe,{logoutFunc:y,user:o})}),Object(O.jsxs)("div",{className:"app",children:[Object(O.jsx)(he,{user:o}),n[0]&&n.map((function(e){return Object(O.jsxs)("div",{children:[" ",Object(O.jsx)("video",{src:e.url,controls:!0,width:800})," ",Object(O.jsx)("p",{children:e.duration})]},e.id)}))]})]}),Object(O.jsxs)(b.Route,{exact:!0,path:"/interview/:jobId",children:[Object(O.jsx)(qe,{logoutFunc:y,user:o}),Object(O.jsx)(de,{user:o})]}),Object(O.jsxs)(b.Route,{exact:!0,path:"/jobpostings",children:[Object(O.jsx)(qe,{logoutFunc:y,user:o}),Object(O.jsx)(Ae,{})]})]}):Object(O.jsx)("div",{className:"app",children:Object(O.jsxs)(b.Switch,{children:[Object(O.jsx)(b.Route,{exact:!0,path:"/",children:Object(O.jsx)(J,{user:o,setUser:j})}),Object(O.jsx)(b.Route,{exact:!0,path:"/login",children:Object(O.jsx)(N,{setUser:j})})]})})}var He=n(28);r.a.render(Object(O.jsx)(He.a,{children:Object(O.jsx)(We,{})}),document.getElementById("root"))}},[[197,1,2]]]);
//# sourceMappingURL=main.6ba7631a.chunk.js.map